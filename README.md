# React Native Expo Articles App

## Overview

This app fetches and displays articles from Hacker News with functionalities such as offline access, favorites, and notifications for new articles. It is built with Expo and leverages `expo-notifications` to send and receive notifications on both iOS and Android.

The app is designed to run in **Expo Go**, a client app that allows developers to preview and test their React Native projects without needing to compile native code. By scanning a QR code generated by `expo start`, you can launch the app directly on your device or simulator. This makes testing faster and easier, especially for cross-platform functionality, as Expo Go handles much of the configuration behind the scenes. However, some native functionalities like background tasks may have limitations within Expo Go, particularly on iOS, due to system restrictions.

## Key Features

- **Data Fetching**: The app fetches articles from Hacker News on startup and via pull-to-refresh, displaying articles based on user-defined preferences.
- **Offline Access**: Articles fetched during the last session are accessible offline.
- **Favorites and Deleted Views**: Users can mark articles as favorites and manage deleted articles.
- **Push Notifications**: Users receive notifications when new articles matching their preferences are available.

## Notifications Setup

The app uses [expo-notifications](https://docs.expo.dev/versions/latest/sdk/notifications/) for managing notifications. Notifications are sent using background tasks that fetch data periodically, but note that **iOS has limitations for background fetch**.

### iOS Background Fetch Limitations

On iOS, background fetch does not run as frequently as on Android. This behavior is controlled by the iOS system based on factors like battery usage, app usage frequency, and network conditions. As a result, notifications triggered by background fetch tasks may be delayed or less frequent.

For more reliable background testing on iOS, use **Xcode Instruments** to simulate background fetch. Detailed instructions on background fetch behavior and testing can be found in the [Expo Notifications documentation](https://docs.expo.dev/versions/latest/sdk/notifications/#limitations-on-ios).

#### iOS Testing Notes

To test background notifications on iOS:

1. **Use a physical device** connected to Xcode.
2. **Simulate background fetch** in Xcode using Instruments (Profile > Background Fetch).

#### Android Testing Notes

On Android, background tasks run more consistently. Make sure that battery optimization is disabled for more reliable background fetch behavior.

---

## How to Run the App

1. Clone this repository.
2. Run `npm install` to install dependencies.
3. Start the app with `expo start`, and open it on either a simulator or a physical device using the Expo Go app.
4. Set notification preferences in the appâ€™s Settings screen to customize article notifications.

## Technologies Used

- **Expo Go**: For easy deployment and testing across devices.
- **React Native**: The primary framework for building the app.
- **expo-notifications**: Manages notifications for both iOS and Android.
- **TypeScript**: Ensures type safety throughout the app.
- **Async Storage**: Persists article data and user preferences locally.
- **Jest & React Native Testing Library**: Provides a robust testing environment to validate components and functionality.

---

## Testing

This project includes unit and component tests to ensure reliability of core functionalities, covering components, utilities, and services.

### Test Files

- **Component Tests**: Tests for core UI components like `ArticleItem`.
- **Utility Tests**: Verifies utility functions for fetching articles and managing local storage.
- **Notification and Background Fetch Tests**: Ensures that notification permissions, background fetch registration, and notification handling work as expected.

### Running the Tests

Run the following command to execute all tests:

```bash
npm test
```
